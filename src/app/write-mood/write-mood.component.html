<div class="book-wrapper">
  <div class="book-page left">
    <h3>心情日誌</h3>
    <label for="date">📅 日期：</label>
    <input id="date" type="date" [(ngModel)]="queryDate" name="date" required [max]="maxDate" />

    <!-- 心情指數區塊 -->
    <div class="mood-selector">
      <label class="mood-label">😊 心情指數：</label>
      <div class="mood-buttons-grid">
        <button *ngFor="let score of moodOptions" type="button" [class.active]="currentMoodScore === score.value"
          (click)="currentMoodScore = score.value">
          {{ score.emoji }}
        </button>
      </div>
      <div class="mood-score">
        {{ currentMoodScore }}/10 （{{ getMoodLabel() }}）
      </div>

    </div>
  </div>

  <div class="book-page right">
    <h3>✍️ 寫下你的心情</h3>

    <textarea [(ngModel)]="inputData" name="diary" maxlength="500" rows="10" placeholder="今天發生了什麼呢？..."
      required></textarea>
    <div class="char-count">{{ inputData.length || 0 }}/500</div>

    <button class="save-btn" (click)="submitInputData()">儲存日記</button>
    <button class="back-btn" (click)="back()">返回書櫃</button>
    <p class="success" *ngIf="submitSuccess">✅ 提交成功！</p>
    <p class="error" *ngIf="submitError">❌ 提交失敗，請再試一次。</p>
  </div>
</div>
